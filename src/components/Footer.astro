---
import { manifest } from 'astro:ssr-manifest';
import Container from './Container.astro';
import { IIIFButton } from '../components/IIIFButton/IIIFButton.tsx';

export interface Props {
  projectBy: string;
  manifests: string[];
}

const { projectBy, manifests } = Astro.props;

const stringToURL = (value: string) => {
  return value == undefined
    ? ''
    : value
        .replace(/[^a-z0-9_]+/gi, '-')
        .replace(/^-|-$/g, '')
        .toLowerCase();
};

const options = manifests.map((m) => ({
  label: m,
  url: stringToURL(m),
}));
---

<div class='h-[80px] bg-secondary w-full py-6 text-white'>
  <Container className='flex flex-row items-center justify-between'>
    <div class='flex flex-row gap-2'>
      <span>Project By:</span>
      <span class='font-semibold'>{projectBy}</span>
    </div>
    <div class='flex flex-row gap-4'>
      This site was generated by <span class='font-semibold'>AVAnnotate</span>
      <IIIFButton options={options} client:only='react' />
    </div>
  </Container>
</div>
